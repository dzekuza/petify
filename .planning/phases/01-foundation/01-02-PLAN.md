---
phase: 01-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/globals.css
autonomous: true
requirements:
  - GLBL-04
must_haves:
  truths:
    - "Teal/green brand accent token works as bg-brand, text-brand, border-brand utility classes in both light and dark mode"
    - "Warm gray neutral scale is properly configured — the existing stone-based oklch values are confirmed warm"
    - "A canonical page-container and section-container spacing pattern is defined and available for use"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Design token system with brand accent + spacing utilities"
      contains: "--brand.*oklch"
  key_links:
    - from: "src/app/globals.css"
      to: "@theme inline"
      via: "CSS variable registration"
      pattern: "--color-brand.*var\\(--brand\\)"
---

<objective>
Define teal/green brand accent tokens, validate warm gray neutrals, and establish canonical spacing utilities in globals.css.

Purpose: Create the token foundation that all subsequent gray-replacement (Plan 03) and ProviderCard (Plan 04) work builds on. Without these tokens defined, semantic class replacements have nowhere to point.
Output: Updated globals.css with brand tokens, warm neutrals, and spacing utilities ready for use.
</objective>

<execution_context>
@/Users/gvozdovic/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gvozdovic/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add brand accent tokens and validate warm gray neutrals</name>
  <files>src/app/globals.css</files>
  <action>
    **Step 1 — Audit neutral scale usage:**
    Run `grep -rn "neutral-" src/ --include="*.tsx" --include="*.ts" --include="*.css"` to determine if `--color-neutral-*` tokens from `@theme inline` are actually used anywhere. If unused, remove the neutral scale block. If used, replace with warm stone-toned oklch equivalents matching the existing `--muted`, `--muted-foreground` warm system.

    **Step 2 — Add brand accent tokens to globals.css:**

    In `@theme inline` block, add:
    ```css
    --color-brand: var(--brand);
    --color-brand-light: var(--brand-light);
    --color-brand-foreground: var(--brand-foreground);
    ```

    In `:root` block, add:
    ```css
    --brand: oklch(0.65 0.14 174);          /* teal-600 — nature-inspired, calming */
    --brand-light: oklch(0.95 0.04 174);    /* teal-50 — subtle brand background */
    --brand-foreground: oklch(1 0 0);       /* white text on brand */
    ```

    In `.dark` block, add:
    ```css
    --brand: oklch(0.72 0.12 174);          /* slightly lighter teal in dark mode */
    --brand-light: oklch(0.25 0.06 174);    /* dark teal background */
    --brand-foreground: oklch(0.98 0.01 174); /* near-white on dark brand */
    ```

    Per user decision: teal/green accent should feel natural and calming, not clinical. The oklch hue 174 (teal) at chroma 0.14 achieves this — it's saturated enough to be visible but not neon.

    **Step 3 — Validate warm gray system:**
    Confirm the existing `:root` oklch values for `--muted`, `--muted-foreground`, `--border`, `--foreground` etc. have warm undertones by checking their hue angles are in the yellow/orange range (hue ~50-110 = warm). The research confirmed they use stone-based oklch with hue ~106 (warm). Document confirmation — no changes needed if already warm.

    If any semantic tokens (muted, foreground, border) use pure gray (hue 0 or very low chroma with no hue), adjust to match the warm stone system. Use oklch values from the research:
    - Warm muted: `oklch(0.97 0.001 106.424)`
    - Warm muted-foreground: `oklch(0.553 0.013 58.071)`
    - These should already be set correctly per research findings.
  </action>
  <verify>
    Create a temporary test: add `<div class="bg-brand text-brand-foreground p-4">Brand Test</div>` to any page, run `pnpm dev`, and confirm the teal color renders. Remove after verification.
    Alternatively: run `grep -n "brand" src/app/globals.css` and confirm both @theme inline registration AND :root definition exist for --brand, --brand-light, --brand-foreground.
  </verify>
  <done>
    Brand tokens (--brand, --brand-light, --brand-foreground) are registered in @theme inline AND defined in :root and .dark. `bg-brand`, `text-brand`, `border-brand`, `bg-brand-light` work as Tailwind utility classes. Warm gray neutrals confirmed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Define canonical spacing utilities</name>
  <files>src/app/globals.css</files>
  <action>
    **Define canonical container spacing in globals.css** using the TailwindCSS v4 `@utility` directive (preferred for v4) or `@layer utilities` with `@apply`:

    Option A — TailwindCSS v4 `@utility` (preferred if supported in project):
    ```css
    @utility page-container {
      max-width: 80rem;  /* 1280px — matches max-w-7xl */
      margin-inline: auto;
      padding-inline: 1rem;
    }

    @utility section-container {
      max-width: 80rem;
      margin-inline: auto;
      padding-inline: 1rem;
      padding-block: 2rem;
    }
    ```

    Add responsive overrides using `@media`:
    ```css
    @utility page-container {
      max-width: 80rem;
      margin-inline: auto;
      padding-inline: 1rem;
      @media (width >= 40rem) { padding-inline: 1.5rem; }
      @media (width >= 64rem) { padding-inline: 2rem; }
    }

    @utility section-container {
      max-width: 80rem;
      margin-inline: auto;
      padding-inline: 1rem;
      padding-block: 2rem;
      @media (width >= 40rem) { padding-inline: 1.5rem; padding-block: 3rem; }
      @media (width >= 64rem) { padding-inline: 2rem; }
    }
    ```

    If `@utility` is not supported in this TailwindCSS v4 version, fall back to Option B:
    ```css
    @layer utilities {
      .page-container {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
      }
      .section-container {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12;
      }
    }
    ```

    **Important:** Phase 1 only DEFINES these utilities. Full rollout across all pages happens progressively in Phases 2-6 as each page is modernized. Do NOT apply page-container across the codebase now.
  </action>
  <verify>
    Run `pnpm dev` (or `pnpm build`) — no CSS compilation errors.
    Run `grep -n "page-container\|section-container" src/app/globals.css` — both utilities are defined.
  </verify>
  <done>
    `page-container` and `section-container` utilities are defined in globals.css with responsive padding (px-4 / sm:px-6 / lg:px-8). Available for use in subsequent phases. No existing pages modified.
  </done>
</task>

</tasks>

<verification>
1. `pnpm build` completes without CSS compilation errors
2. `grep -n "brand" src/app/globals.css` shows @theme inline registration + :root + .dark definitions
3. `grep -n "page-container" src/app/globals.css` shows utility definition
4. Brand utilities (`bg-brand`, `text-brand`, `border-brand`) resolve to teal colors
</verification>

<success_criteria>
- Brand accent tokens defined and functional in both light and dark mode
- Warm gray neutrals confirmed (or corrected if needed)
- Canonical spacing utilities defined and ready for progressive rollout
- Zero CSS compilation errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
