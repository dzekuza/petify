---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/navigation-search.tsx
  - src/components/nav-main.tsx
  - src/components/nav-projects.tsx
  - src/components/nav-secondary.tsx
  - src/components/booking-modal.tsx
  - src/components/mobile-hero-section.tsx
  - src/components/search-results.tsx
  - src/components/pet-ads-section.tsx
  - src/app/test-ai-chat/page.tsx
  - src/app/test-chat-persistence/page.tsx
  - src/components/ui/ai-chat-button.tsx
  - src/components/ui/chat-demo.tsx
  - src/components/ui/ai-chat.tsx
  - src/components/ui/floating-chat-button.tsx
  - src/app/providers/[id]/page.tsx
  - src/components/booking/types.ts
autonomous: true
requirements:
  - CLEAN-01
  - CLEAN-02
  - CLEAN-05
  - GLBL-01
must_haves:
  truths:
    - "No confirmed dead component files exist in src/components/ — 8 files deleted with zero import errors"
    - "Chat UI works with only ChatButton, ChatDialog, and ruixen-mono-chat as implementation — 4 redundant chat files deleted"
    - "booking/types.ts contains zero TypeScript any types — all interfaces use named types from src/types/index.ts"
    - "No uppercase class applied to heading elements anywhere in the codebase"
  artifacts:
    - path: "src/components/booking/types.ts"
      provides: "Properly typed booking interfaces"
      contains: "import.*ServiceProvider.*Service.*Pet.*from.*@/types"
  key_links:
    - from: "src/components/booking/types.ts"
      to: "src/types/index.ts"
      via: "import statement"
      pattern: "import.*from.*@/types"
    - from: "src/app/providers/[id]/page.tsx"
      to: "src/components/ui/chat-button.tsx"
      via: "ChatButton import replacing FloatingChatButton"
      pattern: "import.*ChatButton.*from.*chat-button"
---

<objective>
Delete dead components, consolidate chat to 2 public entry points, replace TypeScript `any` types in booking/types.ts, and audit for all-caps heading violations.

Purpose: Remove technical debt and type-safety issues that would complicate all subsequent visual phases. Clean start.
Output: Leaner component tree, type-safe booking interfaces, confirmed no heading case violations.
</objective>

<execution_context>
@/Users/gvozdovic/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gvozdovic/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete dead components and consolidate chat files</name>
  <files>
    src/components/navigation-search.tsx
    src/components/nav-main.tsx
    src/components/nav-projects.tsx
    src/components/nav-secondary.tsx
    src/components/booking-modal.tsx
    src/components/mobile-hero-section.tsx
    src/components/search-results.tsx
    src/components/pet-ads-section.tsx
    src/app/test-ai-chat/page.tsx
    src/app/test-chat-persistence/page.tsx
    src/components/ui/ai-chat-button.tsx
    src/components/ui/chat-demo.tsx
    src/components/ui/ai-chat.tsx
    src/components/ui/floating-chat-button.tsx
    src/app/providers/[id]/page.tsx
  </files>
  <action>
    **Step 1 — Delete 8 confirmed dead components** (zero imports anywhere):
    - `src/components/navigation-search.tsx` (superseded by navigation/navigation-search.tsx)
    - `src/components/nav-main.tsx`
    - `src/components/nav-projects.tsx`
    - `src/components/nav-secondary.tsx`
    - `src/components/booking-modal.tsx`
    - `src/components/mobile-hero-section.tsx`
    - `src/components/search-results.tsx`
    - `src/components/pet-ads-section.tsx`

    **Step 2 — Delete 2 test pages** (not linked from app navigation):
    - `src/app/test-ai-chat/page.tsx`
    - `src/app/test-chat-persistence/page.tsx`

    **Step 3 — Delete 4 redundant chat files:**
    - `src/components/ui/ai-chat-button.tsx` (zero external imports)
    - `src/components/ui/chat-demo.tsx` (zero external imports)
    - `src/components/ui/ai-chat.tsx` (only used by floating-chat-button which is also being deleted)
    - `src/components/ui/floating-chat-button.tsx` (used by providers/[id]/page.tsx — migrate first)

    **Step 4 — Migrate providers/[id]/page.tsx:**
    Before deleting `floating-chat-button.tsx`, update `src/app/providers/[id]/page.tsx` to import and use `ChatButton` from `@/components/ui/chat-button` instead of `FloatingChatButton`. Match the same prop pattern (provider ID, provider name). If ChatButton needs minor prop adjustments to support the provider context, make them.

    **KEEP these chat files** (they are NOT redundant):
    - `src/components/ui/chat-button.tsx` — canonical ChatButton
    - `src/components/ui/chat-dialog.tsx` — canonical ChatDialog
    - `src/components/ui/ruixen-mono-chat.tsx` — ChatDialog's implementation dependency
    - `src/components/ui/chat-page.tsx` — used by /chat and /dashboard/chat routes (distinct full-page layout)

    **Step 5 — Run `pnpm lint` to verify no broken imports.** Fix any "Cannot find module" or "Module not found" errors. If any arise, check for index file re-exports or dynamic imports that were missed.
  </action>
  <verify>
    Run `pnpm lint` — zero "Cannot find module" or "Module not found" errors.
    Verify deleted files no longer exist: `ls src/components/navigation-search.tsx src/components/nav-main.tsx src/components/booking-modal.tsx 2>&1` should show "No such file".
    Verify kept chat files still exist: `ls src/components/ui/chat-button.tsx src/components/ui/chat-dialog.tsx src/components/ui/ruixen-mono-chat.tsx src/components/ui/chat-page.tsx`.
  </verify>
  <done>
    8 dead components deleted. 2 test pages deleted. 4 redundant chat files deleted. providers/[id]/page.tsx migrated to ChatButton. `pnpm lint` passes with no missing module errors. ChatButton + ChatDialog remain as the 2 public chat entry points.
  </done>
</task>

<task type="auto">
  <name>Task 2: Replace any types in booking/types.ts and audit GLBL-01 uppercase headings</name>
  <files>
    src/components/booking/types.ts
    src/components/booking/booking-step-1.tsx
    src/components/booking/booking-step-2.tsx
    src/components/booking/booking-step-3.tsx
    src/components/booking/booking-step-4.tsx
    src/components/booking/booking-wizard.tsx
  </files>
  <action>
    **Step 1 — Update booking/types.ts:**
    Add import: `import { ServiceProvider, Service, Pet } from '@/types'`

    Replace all `any` types per this mapping:
    - `provider: any` → `provider: ServiceProvider`
    - `services: any[]` → `services: Service[]`
    - `pets: any[]` → `pets: Pet[]`
    - `selectedService: any` → `selectedService: Service | null`
    - `onServiceSelect: (service: any) => void` → `onServiceSelect: (service: Service) => void`
    - Any other `any` occurrences → use the appropriate named type from src/types/index.ts
    - For `availabilityData: any` → use `Record<string, unknown> | null`

    **Step 2 — Fix cascading type errors in booking step components:**
    After updating types.ts, run `pnpm lint` and fix any TypeScript errors in:
    - `booking-step-1.tsx` — update local type annotations to match new interfaces
    - `booking-step-2.tsx` — same
    - `booking-step-3.tsx` — same
    - `booking-step-4.tsx` — same
    - `booking-wizard.tsx` — same

    For any local `any` in these files that references booking types, replace with the proper type. If a step component casts or annotates local variables as `any` where the prop type is now strict, update to match.

    **Step 3 — GLBL-01 audit:**
    Search the entire codebase for `uppercase` class near heading elements (h1-h6):
    ```bash
    grep -rn "uppercase" src/ --include="*.tsx" --include="*.ts"
    ```
    Review each result. If any `uppercase` class is applied to an h1-h6 element or a component that renders as a heading, remove it. The `uppercase` class is acceptable ONLY on badges, labels, and small UI indicators — never on headings.

    If zero violations found (research suggests this is the case), document the audit pass in the summary.
  </action>
  <verify>
    Run `grep -rn "any" src/components/booking/types.ts` — should return zero matches for standalone `any` type annotations.
    Run `pnpm lint` — no new TypeScript errors in booking/ directory.
    Run `grep -rn "uppercase" src/ --include="*.tsx"` and manually confirm none apply to heading elements.
  </verify>
  <done>
    booking/types.ts has zero `any` types — all interfaces reference ServiceProvider, Service, Pet from src/types/index.ts. All booking step components compile without type errors. GLBL-01 audit confirms no uppercase headings exist in the codebase.
  </done>
</task>

</tasks>

<verification>
1. `pnpm lint` passes with no errors related to missing modules or type mismatches
2. `find src/components -name "navigation-search.tsx" -o -name "nav-main.tsx" -o -name "nav-projects.tsx" -o -name "nav-secondary.tsx" -o -name "booking-modal.tsx" -o -name "mobile-hero-section.tsx" -o -name "search-results.tsx" -o -name "pet-ads-section.tsx" -o -name "ai-chat-button.tsx" -o -name "chat-demo.tsx" -o -name "ai-chat.tsx" -o -name "floating-chat-button.tsx"` returns empty
3. `grep -c "any" src/components/booking/types.ts` returns 0 for standalone `any` type annotations
4. Chat functionality still works via ChatButton + ChatDialog
</verification>

<success_criteria>
- 14 files deleted (8 dead components + 2 test pages + 4 chat files)
- 1 file migrated (providers/[id]/page.tsx → ChatButton)
- booking/types.ts is fully typed with named interfaces
- GLBL-01 audit complete — no violations
- `pnpm lint` clean
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
